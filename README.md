# Strategy Battle

一个策略模拟游戏。

## 游戏目标

玩家需要在游戏开始前设定自己的`策略代码`，系统在对局时会依照该策略自动执行操作。

两名玩家(的策略)进行多局对抗，以胜负局数决定策略的优劣。

## 游戏规则

### 棋盘与单位

- 棋盘为 `10x10` 网格。
- 每局游戏仅有 **两个玩家**。
- 玩家在游戏开始时被**随机放置在棋盘上的不同格子中**，起始位置对对方隐藏。
- 玩家初始生命值（HP）为 `5`，对所有玩家公开。

---

### 回合机制

- 以某一位玩家为先手进行50局游戏，之后交换先后手，再进行50局游戏。
- 不断进行新回合直到一方 `HP≤0` 或达到最大回合数 `100`。
- 每回合每位玩家有 `3` 个行动点（AP）可分配。

---

### 可用行动

| 行动 | 消耗AP | 说明                                         |
| ---- | ------ | -------------------------------------------- |
| 移动 | 1      | 可向上、下、左、右任意方向移动 1 格          |
| 侦测 | 1      | 探测敌人的距离（即最短路径步数），不考虑斜向 |
| 攻击 | 1      | 指定棋盘上的某一格进行攻击                   |

#### 攻击规则

- 攻击范围为目标格及其周围的 8 格（3x3 区域）。
- 若敌人在中心目标格内，造成 `2` 点伤害。
- 若敌人在周围 8 格内，造成 `1` 点伤害。

---

### 策略设定

玩家在制定策略时，可以获取到的信息如下。

> 只在回合开始时获取，当前回合自己的行动结果要到下一回合才知道  
> 比如第一个行动是攻击并且能知道命中的话可以3连击，运气要素过强

- 当前公开状态
  - 回合数
  - 自己的位置
  - 自己的HP
  - 敌人的HP
- 历史回合记录
  - 回合数
  - 自己的行动以及行动结果
    - 移动: 无结果
    - 侦测: 敌人的距离
    - 攻击: 造成的伤害
    - 因参数或其他错误导致行动无法执行时，行动会被舍弃，结果为相关的错误信息

需要给出的策略如下

- 采取的行动序列
- 各种行动的参数
  - 移动: 移动的方向
  - 侦测: 无参数
  - 攻击: 攻击的坐标

## 开发

### 项目结构规划

```
src/
├── engine/
│   ├── types.ts         # 类型定义
│   └── game.ts          # 游戏对局主类
├── strategies/
│   └── random.ts       # 各种策略
├── ui/
│   └── components/      # Vue 组件
```

### 其他需求

#### 游戏记录与复盘

- 每场对局都会生成一个完整的 JSON 格式记录。
- 可以通过 UI 播放历史回合，逐步复盘每个玩家的行为和游戏进展。
